<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Getting Started</title>
  </head>
  <body>
    SLP READER
    <input type="file" id="file-selector" multiple />
    <script type="module">
      import "./dist/webmain.js";
      console.log("SlippiGame present?", SlippiGame);
      const fileSelector = document.getElementById("file-selector");
      fileSelector.addEventListener("change", (event) => {
        const fileList = event.target.files;
        const reader = new FileReader();
        reader.addEventListener("load", (event) => {
          const game = new SlippiGame(new Uint8Array(event.target.result));
          console.log("G", game);

          const metadata = game.getMetadata();
          console.log("metadata", metadata);

          const stats = game.getStats();
          console.log("conv", stats.conversions);
        });
        reader.readAsArrayBuffer(fileList[0]);
      });
    </script>
  </body>
</html>
